<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black" name="apple-mobile-web-app-status-bar-style" />
    <meta content="telephone=no" name="format-detection" />
    <title>梅赛德斯-奔驰</title>
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <script type="text/javascript">
    !(function(doc, win) {
        var docEle = doc.documentElement,
            evt = "onorientationchange" in window ? "orientationchange" : "resize",
            fn = function() {
                var width = docEle.clientWidth;
                width && (docEle.style.fontSize = 50 * (width / 750) + "px");
            };

        win.addEventListener(evt, fn, false);
        doc.addEventListener("DOMContentLoaded", fn, false);

    }(document, window));
    </script>
</head>

<body>
    <div class="header">
        <img data-original="images/header-banner_01.jpg" class="lazy" />
    </div>
    <div class="titl-div">
        <img data-original="images/header-banner_02.jpg" class="lazy" />
    </div>
    <div class="hot-section">
        <div class="carlss-left">
            <h3 class="carlss-h3 flex_box cross_center"><span class="carlss-left-title">C-Class</span><i class="triangle-right-top"></i>成就人生主角</h3>
            <p class="carlss-info">现金最高优惠&nbsp;&nbsp;<em>¥18000</em></p>
            <p class="carlss-info">店内分期再优惠&nbsp;&nbsp;<em>¥5000</em></p>
            <p class="carlss-info">店内购买精品套装赠送&nbsp;&nbsp;<em>¥12000</em>&nbsp;保险</p>
        </div>
        <div class="carlss-right">
            <img src="images/car1.png">
        </div>
    </div>
    <div>
        <ul>
            <li><img class="lazy" data-original="images/carlist/car_03.jpg"></li>
            <li><img class="lazy" data-original="images/carlist/car_04.jpg"></li>
            <li><img class="lazy" data-original="images/carlist/car_05.jpg"></li>
            <li><img class="lazy" data-original="images/carlist/car_06.jpg"></li>
            <li><img class="lazy" data-original="images/carlist/car_07.jpg"></li>
        </ul>
    </div>
    <div class="notice-section">
        <h3><img src="images/title_arrow.png"><span class="notice-title">活动须知</span></h3>
        <p>1、凡报名后到店客户均可获得梅赛德斯-奔驰精美礼品一份</p>
        <p>2、参加本次活动，提交报名表后最终成交客户上传发票可获 得加油卡一张
        </p>
        <p>3、置换客户享更优价格的同时，更有额外售后无忧礼</p>
    </div>
    <div class="gifts-section">
        <ul class="gifts-section-ul flex_box row_space_around">
            <li>
                <img class="lazy" data-original="images/gifts/gift_1.jpg">
                <p>梅赛德斯-奔驰</p>
                <p>精美礼品</p>
            </li>
            <li>
                <img class="lazy" data-original="images/gifts/gift_2.jpg">
                <p class="jiayouka">500加油卡</p>
            </li>
            <li>
                <img class="lazy" data-original="images/gifts/gift_3.jpg">
                <p>售后无忧</p>
            </li>
        </ul>
        <h2 class="gifts-warning">错过这次，再等何年！</h2>
    </div>
    <div class="signup-section">
        <h3><img src="images/title_arrow.png"><span class="notice-title">我要报名</span></h3>
        <img class="signup-bottom" src="images/signup_bg.png">
        <img class="signup-car" src="images/signup-car.png">
        <div class="signup-form">
            <div class="user-name">
                <input type="text" placeholder="姓名">
            </div>
            <div class="user-phome clearfix">
                <input type="text" placeholder="联系方式">
                <span class="send sendcode fr">获取验证码</span>
                <!-- /*倒计时的时候添加上此样式*/
                    .counting-->
                <span class="resend sendcode fr" style="display:none;"><em class="num-wrapper hide" ><em class="num">60</em>s后</em>重新发送</span>
            </div>
            <div class="user-code">
                <input type="text" placeholder="输入验证码">
            </div>
            <div class="user-brand">
                <div class="brand-input">意向车型</div>
                <ul class="brand-list hide">
                    <li data-value="2646">C-Class</li>
                    <li data-value="2376">E-Class</li>
                    <li data-value="4556">GLC SUV</li>
                    <li data-value="4445">GLA SUV</li>
                    <li data-value="3984">S-Class</li>
                    <li data-value="4622">GLE SUV</li>
                    <li data-value="0">其他车型</li>
                </ul>
            </div>
            <div class="user-area clearfix">
                <div class="province fl">
                    <div class="select-div province-select">请选择省</div>
                    <div class="area-list-wrapper hide">
                        <ul class="area-list">
                            <li data="1">安徽省</li>
                            <li data="2">北京</li>
                            <li data="3">福建省</li>
                            <li data="4">甘肃省</li>
                            <li data="5">广东省</li>
                            <li data="6">广西壮族自治区</li>
                            <li data="7">贵州省</li>
                            <li data="8">海南省</li>
                            <li data="9">河北省</li>
                            <li data="10">河南省</li>
                            <li data="11">黑龙江省</li>
                            <li data="12">湖北省</li>
                            <li data="13">湖南省</li>
                            <li data="14">吉林省</li>
                            <li data="15">江苏省</li>
                            <li data="16">江西省</li>
                            <li data="17">辽宁省</li>
                            <li data="18">内蒙古自治区</li>
                            <li data="19">宁夏回族自治区</li>
                            <li data="20">青海省</li>
                            <li data="21">山东省</li>
                            <li data="22">山西省</li>
                            <li data="23">陕西省</li>
                            <li data="24">上海</li>
                            <li data="25">四川省</li>
                            <li data="26">天津</li>
                            <li data="27">西藏自治区</li>
                            <li data="28">新疆维吾尔自治区</li>
                            <li data="29">云南省</li>
                            <li data="30">浙江省</li>
                            <li data="31">重庆</li>
                            <li data="710000">台湾省</li>
                            <li data="810000">香港特别行政区</li>
                            <li data="820000">澳门特别行政区</li>
                        </ul>
                    </div>
                </div>
                <div class="city fr">
                    <div class="select-div">请选择市</div>
                    <div class="area-list-wrapper hide">
                        <ul class="area-list">
                            <li>北京</li>
                            <li>山东</li>
                            <li>海南</li>
                            <li>海南</li>
                            <li>北京</li>
                            <li>山东</li>
                            <li>海南</li>
                            <li>海南</li>
                            <li>北京</li>
                            <li>山东</li>
                            <li>海南</li>
                            <li>海南</li>
                            <li>北京</li>
                            <li>山东</li>
                            <li>海南</li>
                            <li>海南</li>
                            <li>北京</li>
                            <li>山东</li>
                            <li>海南</li>
                            <li>海南</li>
                            <li>北京</li>
                            <li>山东</li>
                            <li>海南</li>
                            <li>海南</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="submit">
                <input type="button" value="提交">
            </div>
            <p class="waring-tip">姓名和手机号码要跟购车时发票人员相同，方可申请油卡</p>
        </div>
    </div>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/lazyload.js"></script>
    <script type="text/javascript">
    $(function() {
        $("img.lazy").lazyload({ threshold: 10 });
        /*点击品牌*/
        $(".brand-input").click(function() {
            $(".area-list-wrapper").addClass('hide');
            $('.brand-list ').toggleClass('hide');
        });

        $(".brand-list li").click(function() {
            var value = $(this).text();
            $(".brand-input").text(value);
            $('.brand-list').toggleClass('hide');
        });

        $(".select-div").click(function() {
            $('.brand-list').addClass('hide');
            $(this).next().toggleClass('hide');
        });
        /*touch辅助方法*/
        var touchHelper = {
            startX: 0,
            startY: 0,
            tap: "",
            getCoord: function(e, c) {
                return /touch/.test(e.type) ? (e.originalEvent || e).changedTouches[0]['page' + c] : e['page' + c];
            },
            setTap: function() {
                j_xuanObj.tap = true;
                setTimeout(function() {
                    j_xuanObj.tap = false;
                }, 500);
            },
            init: function() {
                this.startX = 0;
                this.startY = 0;
                this.tap = "";
            }
        };
        /*public js*/
        var utilityJs = {
            that: this,
            isMobile: function() {
                var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"),
                    userAgentInfo = navigator.userAgent,
                    con = false;
                for (var v = 0; v < Agents.length; v++) { if (userAgentInfo.indexOf(Agents[v]) > 0) { con = true; break; } }
                return con;
            }
        };
        /*动态判断点击的类型*/
        var clickEventName = {
            touchstart: (utilityJs.isMobile() && ('ontouchstart' in document)) ? 'touchstart' : 'click',
            touchend: (utilityJs.isMobile() && ('ontouchstart' in document)) ? 'touchend' : 'click'
        };
        //点击省份
        $(document).on(clickEventName["touchstart"], ".province .area-list>li", function(ev) {
            touchHelper.startX = touchHelper.getCoord(ev, 'X');
            touchHelper.startY = touchHelper.getCoord(ev, 'Y');
        });
        $(document).on(clickEventName["touchend"], ".province .area-list>li", function(ev) {
            if (Math.abs(touchHelper.getCoord(ev, 'X') - touchHelper.startX) < 10 && Math.abs(touchHelper.getCoord(ev, 'Y') - touchHelper.startY) < 10) {
                var that = $(this),
                    data = that.attr("data"), //省份
                    txt = that.text();
                $(".province .select-div").attr("data", data).text(txt);
                $(".province .area-list-wrapper").toggleClass('hide');

                $.ajax({
                    type: 'get',
                    url: '', //请求地址, 省份ID 是data
                    success: function(data) {
                        /* TODO 绑定城市列表 */
                    }
                });
            }

        });
        //点击城市
        $(document).on(clickEventName["touchstart"], ".city .area-list>li", function(ev) {
            touchHelper.startX = touchHelper.getCoord(ev, 'X');
            touchHelper.startY = touchHelper.getCoord(ev, 'Y');
        });
        $(document).on(clickEventName["touchend"], ".city .area-list>li", function(ev) {
            if (Math.abs(touchHelper.getCoord(ev, 'X') - touchHelper.startX) < 10 && Math.abs(touchHelper.getCoord(ev, 'Y') - touchHelper.startY) < 10) {

                var that = $(this),
                    data = that.attr("data"), //城市ID
                    txt = that.text();
                $(".city .select-div").attr("data", data).text(txt);
                setTimeout(function(){
                   $(".city .area-list-wrapper").toggleClass('hide');
                },600)
               
            }

        });

        var timer, num = 60;
        $(".send").click(function() {
            $(this).hide();
            countdown();
        });
        $(".resend").click(function() {
            countdown();
        });

        /*倒计时*/
        function countdown() {
            var resend = $(".resend");
            if (!resend.hasClass('counting')) {
                resend.addClass('counting');
                $(".resend").show();
                $(".num").text(num);
                $(".num-wrapper").removeClass('hide');
                timer = setInterval(function() {
                    if (num > 1) {
                        num--;
                        $(".num").text(num);
                    } else {
                        clearInterval(timer);
                        $(".num-wrapper").addClass('hide');
                        resend.removeClass('counting');
                        num = 60;
                    }
                }, 1000)
                /*
                  调用发送验证码的接口
                */
            };
        }
    })
     
    var proviceSelector=$(".province .select-div"),
        provinceId=proviceSelector.attr("data")||0;
        provinceName=proviceSelector.text();

    var citySelector=$(".city .select-div"),
        cityId=citySelector.attr("data")||0,
        cityName=citySelector.text();

    </script>
</body>

</html>