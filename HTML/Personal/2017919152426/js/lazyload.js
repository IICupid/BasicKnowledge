!function(a){a.fn.lazyload=function(b){var d,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,skip_invisible:!0};return b&&(null!==b.failurelimit&&(b.failure_limit=b.failurelimit,delete b.failurelimit),a.extend(c,b)),d=this,0==c.event.indexOf("scroll")&&a(c.container).bind(c.event,function(){var f,e=0;d.each(function(){if(!c.skip_invisible||a(this).is(":visible"))if(a.abovethetop(this,c)||a.leftofbegin(this,c));else if(a.belowthefold(this,c)||a.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else a(this).trigger("appear")}),f=a.grep(d,function(a){return!a.loaded}),d=a(f)}),this.each(function(){var b=this;b.loaded=!1,a(b).one("appear",function(){this.loaded||a("<img />").bind("load",function(){a(b).hide().attr("src",a(b).data("original"))[c.effect](c.effectspeed),b.loaded=!0}).attr("src",a(b).data("original"))}),0!=c.event.indexOf("scroll")&&a(b).bind(c.event,function(){b.loaded||a(b).trigger("appear")})}),a(window).bind("resize",function(){a(c.container).trigger(c.event)}),a(c.container).trigger(c.event),this},a.belowthefold=function(b,c){var d;return d=void 0===c.container||c.container===window?a(window).height()+a(window).scrollTop():a(c.container).offset().top+a(c.container).height(),d<=a(b).offset().top-c.threshold},a.rightoffold=function(b,c){var d;return d=void 0===c.container||c.container===window?a(window).width()+a(window).scrollLeft():a(c.container).offset().left+a(c.container).width(),d<=a(b).offset().left-c.threshold},a.abovethetop=function(b,c){var d;return d=void 0===c.container||c.container===window?a(window).scrollTop():a(c.container).offset().top,d>=a(b).offset().top+c.threshold+a(b).height()},a.leftofbegin=function(b,c){var d;return d=void 0===c.container||c.container===window?a(window).scrollLeft():a(c.container).offset().left,d>=a(b).offset().left+c.threshold+a(b).width()},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0,container:window})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0,container:window})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0,container:window})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0,container:window})}})}(jQuery);