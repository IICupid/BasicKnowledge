<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
</head>
<body>
    <script>
        /*
        ES6允许按照一定的模式，从数据和对象中抽取值，对变量进行赋值，不这个被称之为 解构；
        本质上这种写法属于“模式匹配”
        解构不仅适用于var，let,const

        1.数组的元素是按次序列排列的,变量的取值由他的位置决定；
        2.对象的解构是变量和对象的属性名相同，才能去到值
        */

        /*---------------数组的解构赋值--------------------*/
        var a = 1,
            b = 2,
            c = 3;
        //而ES6允许写成下面这样：
        var [a,b,c]=[1,2,3];//
        
        var  [f,g,h]=[4,5,6];
        console.log("f="+f);
        console.log("g="+g);
        console.log("h="+h);
        //  本质上这种写法属于“模式匹配”
        var [f1,[[f2],f3]]=[23,[[56],"Cupid"]];
        console.log("f1="+f1);
        console.log("f2="+f2);
        console.log("f3="+f3);

        var  [,,third]=["foo","bar","baz"];
        console.log("third="+third);
        //如果解构不成功，变量的值就等于undefined；一下集中都属于解构不成功
        //var [poo]=[];
        //var [poo]=1;
        //var [poo]="Helloo"
        //var [poo]=[];
        //var [poo]=false
        //var [poo]=NaN
        //var [poo]=undefined;
        //var [poo]=null;

        //用途
        //1.交换变量值 
        console.log("用途  交换变量值");
        let x=1,
            y=2;
        [x,y]=[y,x];
        console.log("x="+x);
        console.log("y="+y);
        //2.从函数中返回多个返回值
        function returnSomeValue(){
            let m=1,
               n=2,
               k=3;
            return [m,n,k];
        }
        let  [m,n,k]=returnSomeValue();//注意一点，块级作用 这里不影响，也不会报错
        console.log("m="+m);//1
        console.log("n="+n);//2
        console.log("k="+k);//3

        //2 对象的解构赋值 
        let  {aa,qq,dd}={aa:"AAA",qq:"QQ",yy:"YYYYYY",kk:"KLKKK"};
        console.log("aa="+aa);//AAA
        console.log("qq="+qq);//QQ
        console.log("dd="+dd);//undefined 
        //如果变量名和属性名不一致，必须写成下面这样
        var  {name:userName}={name:"Cupid"};
        console.log("userName="+userName);//Cupid

        //用于嵌套解构对象
        console.log(["d",{mm:"dddddd"}]);
        var o1=["d",{myname:"mNamemNamemName"}];
        var  [dName,{mName}]=o1;
        console.log(dName);
        console.log(mName);

        var o2={
            person:["Cupid",{myname:"myname"}]
        };
        var {
            person:[myCupid,{myname}]
        }=o2;
        //console.log(person);//error
        console.log(myCupid);
        console.log(myname);

        //对象解构也可以指定默认值
        var {xValue=3}={};
        console.log(xValue);
        //对于一个已经声明的变量解构赋值 方式
        var yValue;
        ({yValue}={yValue:2222});
        //或者
       // ({yValue})={yValue:2222};
        console.log("yValue="+yValue);
    </script>
    <div class="name">我是第一个</div>
    <div class="name">我是第二个</div>
</body>
</html>
