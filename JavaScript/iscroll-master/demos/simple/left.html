<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>iScroll demo: simple</title>
    <link rel="stylesheet" type="text/css" href="mreset.css">
    <link rel="stylesheet" type="text/css" href="index.css">
    <script type="text/javascript" src="flexible.debug.js"></script>
    <script type="text/javascript" src="zepto.js"></script>
    <script type="text/javascript" src="iscroll.js"></script>
    <script type="text/javascript" src="indexsidebar.js"></script>
</head>

<body>
    <div class="btn" id="btn">点击</div>
    <div id="carSelectComponent">
        <div class="leftmask" style="display:none;"></div>
        <div class="relative-position defaultAni" id="first-wrapper">
            <div id="header">头部</div>
            <div id="wrapper" class="wrapper">
                <div id="scroller" class="scroller">
                    <ul class="carSelect-allCar-ul">
                        <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif">
                    </ul>
                </div>
            </div>
            <div class="tipsLetter" style="display: none;">P</div>
            <div id="footer">关闭</div>
        </div>
        <div class="relative-position defaultAni" id="sery-wrapper">
            <div id="car-wrapper" class="wrapper">
                <div id="sery-scroller" class="scroller">
                    <img src="http://image.bitautoimg.com/uimg/mbt2015/images/loading.gif">
                </div>
            </div>
        </div>
    </div>
    <!--     <script type="text/template" id="brandTemplate">
        {console.log(data); var MsterList=data.MsterList; for(var n in MsterList){}
        <div class="tt-small phone-title" data-letter="{=n}">
            <span>{=n}</span>
        </div>
        <div class="box">
            <ul>
                { for(var i=0,thisMsterList=MsterList[n],thisLen=thisMsterList.length;i
                <thisLen;i++){ } <li data-action="car" data-id="{=thisMsterList[i].Bs_Id}" data-spell="{=thisMsterList[i].Bs_UrlSpell}">
                    <a href="javascript:void(0);" logwt="wap_buycar_select_brand_{=thisMsterList[i].Bs_UrlSpell}">
                                <span class="brand-ad" data-materid="{=thisMsterList[i].Bs_Id}"></span>
                                <span class="brand-logo m_{=thisMsterList[i].Bs_Id}_b"></span>
                                <span class="brand-name">{=thisMsterList[i].Bs_Name}</span>
                            </a>
                    </li>
                    {}}
            </ul>
        </div>
        {}}
    </script> -->
    <script type="text/template" id="brandTemplate">
    {console.log(data); var MsterList=data.MsterList; for(var n in MsterList){}
        <div class="brand-col clearfix">
            <div class="brand-title-item" data-letter="{=n}">
               {=n}
            </div>
            <div class="brand-col-list">
                <ul>
                 { for(var i=0,thisMsterList=MsterList[n],thisLen=thisMsterList.length;i
                <thisLen;i++){ }
                    <li data-action="car" data-id="{=thisMsterList[i].Bs_Id}"  data-name="{=thisMsterList[i].Bs_Name}">
                        <a href="#">
                            <div class="brand-col-img">
                                <img src="http://image.bitautoimg.com/bt/car/default/images/logo/masterbrand/png/100/m_{=thisMsterList[i].Bs_Id}_100.png" alt="">
                            </div>
                            <span>{=thisMsterList[i].Bs_Name}</span>
                        </a>
                    </li>
                {}}
                </ul>
            </div>
        </div>
        {}}
    </script>
    <script type="text/template" id="carTemplate">
        {console.log(data);}
        <div class="choose-car-unlimit">
            <a href="{=data[0].PUrl}">不限车型</a>
        </div>
        <div class="clear"></div>
        { for(var i = 0,len=data.length;i
        <len; i++){ } {if(data[i].Child.length> 0){ }
            <div class="tt-small">
                <span>{= data[i].BrandName }</span>
            </div>
            {}}
            <div class="pic-txt-h pic-txt-9060">
                <ul>
                    {for(var j = 0,thisList=data[i],thisChild=thisList.Child,lenChild=thisChild.length,url=thisList.Url;j
                    <lenChild; j++){ } <li>
                        <a class="imgbox-2" data-id="{= thisChild[j].CsId}" href="#">
                            <div class="c-box">
                                <h4>{= thcisChild[j].CsShowName }</h4>
                            </div>
                        </a>
                        </li>
                        {}}
                </ul>
            </div>
            {}}
    </script>
    <script type="text/javascript" src="underscore.js"></script>
    <script type="text/javascript" src="render.js"></script>
    <script type="text/javascript" src="brand.js"></script>
    <script type="text/javascript">
    var barnds = new BrandSelectComponent({
        charChange: function(letter) {
            if (letter === '#') {
                this.brandScroll.scrollTo(0, 0);
            } else {
                var target = document.querySelector('[data-letter="' + letter + '"]');
                if (!!target && !!target.nodeType) {
                    this.brandScroll.scrollToElement(target, 0);
                }
            }
        },
        ainimateHideAfter: function() {
            console.log('ainimateHideAfter');
        }
    });

    $("#btn").click(function() {
        barnds.init();
    });

    $("#header,#footer").click(function() {
        barnds.toggleAnimate();
    });
    </script>
</body>

</html>