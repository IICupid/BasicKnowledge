<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
</head>
<body>
    <script type="text/javascript">
        //单一职责原则，创建和管理分开
        /*
        创建对象的方法fn被当成参数，动态的传入getSingle函数
        */
        var getSingle = function (fn) {
            var result；
            return function () {
                return result || (result = fn.apply(this, arguments));
            }
        }
        //创建loginlayer
        var createDiv = function () {
            var div = document.createElement("div");
            div.innerHTML = "登录框";
            div.style.display = "none";
            document.body.appendChild(div);
            return div;
        }
        //调用
        var createSingleLoginLayer = getSingle(createDiv);
        document.querySelector("#id").onclick = function () {
            var loginLayer = createSingleLoginLayer();
            loginLayer.style.display = 'block';
        };
    </script>
</body>
</html>
