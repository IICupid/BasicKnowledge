<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="../js/lib/jquery-2.1.1.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<script type="text/javascript">
			var val=2;
			var promises = new Promise(function(resolve, reject) {
				console.log('步骤一：执行');
				if(val >= 1) {
					resolve('Hello I am No.1');
				} else if(val === 0) {
					reject(val);
				}
			});

			promises.then(function(param) {
				console.log(param);
				return "Hello I am No.2"
			}).then(function(param){
				console.log(param);
			});
			
			
			console.log('=======================================================');
			var promise2=new Promise(function(resolve,reject){
				$.ajax({
					type:'get',
					url:'1.txt',
					success:function(data){
						console.log(data);
						resolve(data);
					}
				});
			});
			
			promise2.then(function(param){
				console.log(2222);
				$.ajax({
					type:'get',
					url:'1.txt',
					success:function(data){
						console.log('1111');
						console.log(data);
						resolve(3333);
					}
				});
			}).then(function(param){
				console.log(param);
			});
		</script>
	</body>

</html>