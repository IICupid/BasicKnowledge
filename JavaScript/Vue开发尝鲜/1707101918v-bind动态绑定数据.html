<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="css/customselect.css" />
		<style type="text/css">
			.drop-title {
				width: 800px;
				border: 1px solid #000000;
				margin: 0 auto;
				text-align: center;
				height: 50px;
				line-height: 50px;
			}
		</style>
	</head>

	<body>
		<div class="app">
			<h3 class="drop-title">自定义下拉框</h3>
			<custom-select data-btn="GO" :list="list1"></custom-select>

		</div>
		<script type="text/javascript">
			Vue.component("custom-select", {
				props: ["dataBtn","list"],
				data: function() {
					return {
						showList: false,
						val:''
					};
				},
				methods: {
					changeShow: function() {
						this.showList = !this.showList;
					},
					changeValueHanlder:function(item){
						console.log(item);
						this.val=item;
					}
				},
				props: ["dataBtn","list"],
				template: `
				         <div class="wrapper">
	     	                      <div class="input-wrapper">
						     	  	<input type="text" name=""  class="search-value" :value="val"   />
						     	  	<input type="button" name="" class="search-btn" :value="dataBtn" @click="changeShow"  />
						     	  </div>
						     	 <custom-list  v-bind:list="list"  @recive="changeValueHanlder"></custom-list>
						</div>
				`
			});

			Vue.component("custom-list", {
				props:['list'],
				methods:{
					selectItem:function(item){
						//子组件中有交互
						//点击子组件的时候，告知父级改变val的值 自定义事件
						this.$emit('recive',item);
						
					}
				},
				template: ` <ul class="search-result">
						     	  	<li v-for="item in list"  @click="selectItem(item)"><a href="javascript:;">{{item}}</a></li>
				 </ul>`
			});
			var vm = new Vue({
				el: ".app",
				data:{
					list1:["北京","临沂","南京"]
				}

			});
		</script>
	</body>

</html>