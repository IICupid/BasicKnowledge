<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/reset.css" />
		<link rel="stylesheet" type="text/css" href="css/modal.css" />
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<div class="modal">
			<div class="modal-header">
				<h2>我是标题</h2>
			</div>
			<div class="modal-content">
				我是内容
			</div>
			<div class="modal-tools clearfix">
				<input type="button" value="取消" class="btn-" />
				<input type="button" value="确定" class="btn-ok" />
			</div>
		</div>
		<div id="app">
             <t-modal m-title="天王盖地虎" v-on:emit_cancel="cancelFunc" v-on:emit_ok="okFunc">
             	<template slot="modalcontent">
             		<p>你是250</p>
             		<p>Oh,shit!</p>
             	</template>
             	<template slot="modaltools">
             		<input type="button" value="Cancel"  class="btn-cancel" @click="clickCancel" /> 
					<input type="button" value="OK"  class="btn-ok" @click="clickOK" /> 
             	</template>
             </t-modal>
		</div>
		<script type="text/javascript">
			Vue.component('t-modal', {
				props:{
					mtitle:{
						type:String,
					     default:"我是默认标题"
					}
				},
				methods:{
					clickCancel:function(){
						alert("d");
						this.$emit('emit_cancel');
					},
					clickOK:function(){
							alert("d");
						this.$emit("emit_ok");
					}
				},
				template: `<div class="modal">
							<div class="modal-header">
								<h2>{{mtitle}}</h2>
							</div>
							<div class="modal-content">
								<slot name="modalcontent">我是内容</slot>
							</div>
							<div class="modal-tools clearfix">
									<slot name="modaltools">
										<input type="button" value="取消"  class="btn-cancel"  @click="clickCancel"/> 
									    <input type="button" value="确定"  class="btn-ok" @click="clickOK"  /> 
									</slot>
							</div>
						</div>
		               `
			});
			new Vue({
				el: "#app",
				methods:{
					cancelFunc:function(){
						console.log("取消");
					},
					okFunc:function(){
						console.log("确定");
					},
					clickCancel:function(){//坑点 作用域 在水里面  方法就得xie哪里
						alert("d");
						this.$emit('emit_cancel');
					},
					clickOK:function(){
							alert("d");
						this.$emit("emit_ok");
					}
				}
			});
		</script>
	</body>

</html>