<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>

	</head>

	<body>
		<script type="text/javascript">
			var Queue = function() {
				var arr = [];
				var enqueue = function(element) {
					arr.push(element);
				}

				var dequeue = function() {
					return arr.shift();
				};

				var isEmpty = function() {
					return arr.length === 0;
				}

				var size = function() {
					return arr.length;
				};
				var front = function() {
					return arr[0];
				};
				var clear = function() {
					return arr.length = 0;
				};
				var getItem = function() {
					return arr;
				};

				return {
					enqueue: enqueue,
					dequeue: dequeue,
					isEmpty: isEmpty,
					size: size,
					front: front,
					clear: clear,
					getItem: getItem
				};
			}
			
			var PriorityQueue = function() {
				var items = [];
				var enqueue = function(element) {
					if(!items.length) {
						items.push(element);
					} else {
						var added = false;
						for(var i = 0, itemLen = items.length; i < itemLen; i++) {
							if(element.priority < items[i].priority) {
								items.splice(i, 0, element);
								added = true;
								break;
							}
						}

						if(!added) {
							items.push(element);
						}

					} //else
				};

				var dequeue = function() {
					return items.shift();
				};

				var isEmpty = function() {
					return items.length === 0;
				}

				var size = function() {
					return items.length;
				};
				var front = function() {
					return items[0];
				};
				var clear = function() {
					return items.length = 0;
				};
				var getItem = function() {
					return items;
				};
				return {
					enqueue: enqueue,
					dequeue: dequeue,
					isEmpty: isEmpty,
					size: size,
					front: front,
					clear: clear,
					getItem: getItem
				};
			};
			var p1 = PriorityQueue();
			p1.enqueue({
				name: 'jack1',
				priority: 1
			});
			p1.enqueue({
				name: 'jack2',
				priority: 3
			});
			p1.enqueue({
				name: 'jack3',
				priority: 1
			});
			p1.enqueue({
				name: 'jack4',
				priority: 0
			});
			p1.enqueue({
				name: 'jack5',
				priority: 2
			});

			console.log(p1.getItem());
console.log('===============================');
			function hotPatato(nameArr, num) {
				console.log(typeof nameArr);
				var queue = Queue();
				for(var i = 0, len = nameArr.length; i < len; i++) {
					queue.enqueue(nameArr[i]);
				}
				console.log(queue.getItem());
				var eliminated = "";
				while(queue.size() > 1) {
					for(var i = 0; i < num; i++) {
						queue.enqueue(queue.dequeue());
					}
					eliminated = queue.dequeue();
					console.log(eliminated + "在击鼓传花游戏中被淘汰~~~")
				}

				return queue.dequeue();
			}

			var name =['p1','p2','p3','p4','p5'];
			var nameNumber = [1,2,3,4,5,6,7,8,9];
	
			
			var winner = hotPatato(name, 4);
			console.log("winner=" + winner);

//			function add(arr) {
//				console.log(arr);
//			}
//
//			add(name);
		</script>
	</body>

</html>